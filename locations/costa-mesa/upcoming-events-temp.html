---
title: 'Costa Mesa: Upcoming Events'
position: 0
nav:
  id: whq-upcoming-events
  site:
    highlight: locations
  side:
    id: costa-mesa
    highlight: whq-upcoming-events
banner:
  image: "/assets/images/topo-banner-bg.jpg"
  title: Costa Mesa HQ
  subtitle: 270 Baker St E, Ste 200, Costa Mesa, CA
---

<h2 class="underline">Upcoming Events</h2>
<a href="#" class="d-inline _no-underline">
  <div class="card-event">
      <div class="row m-a-0 p-a-0">
        <div class="col-xs-12 col-sm-5 p-a-0">
          <img src="http://localhost:4000/assets/images/-temp.jpg" alt="Event image">
        </div>
        <div class="col-xs-12 col-sm-7 card-block">
          <h3 class="card-title">TITLE: Writer's Room Improv Fundraiser</h3>
          <p class="card-text m-b-0"><strong>Date: Sep 16, 7:00pmâ€”9:00pm</strong></p>
          <p class="card-text">Enjoy an evening with the Writer's Room team of professional improv actors, musicians and artists! The Back to School: Improv Night is all about the local schools in your neighborhood. We are rallying the troops to brings the Authors Showcase program to the underfunded schools in SoCal. With your he...</p>
          <a href="#" class="btn btn-md btn-primary m-t-1">Details &amp; Tickets</a>
        </div>
      </div>
  </div>
</a>


<div class="upcoming-events"></div>

<script type="text/javascript">
  var promise = Wayfare.Ticketleap.getEvents();
  var customEvents = [
    {% for event in site.events %}
      {
        headline: "{{ event.headline | escape }}",
        description: "{{ event.content | newline_to_br | strip_newlines }}",
        html_description: "{{ event.content | markdown | strip_newlines }}",
        start_date: "{{ event.dates.start_date }}",
        end_date: "{{ event.dates.end_date }}",
        splash_image: "{{ event.images.splash_image }}",
        thumb_image: "{{ event.images.thumb_image }}",
        ticket_url: "{{ event.urls.ticket_url }}"
      },
    {% endfor %}
  ];
  promise.done(function() {
    var allEvents = _.sortBy(
      _.concat(customEvents, Wayfare.Ticketleap.events),
      function(event) {
        if (event.earliest_start_local) {
          console.log(moment(event.earliest_start_local).format("YYYY-MM-DD H:mm"))
          return moment(event.earliest_start_local).format("YYYY-MM-DD H:mm");
        } else {
          console.log(event.start_date)
          return event.start_date;
        }
      }
    );
    _.each(allEvents, function(event) {
      if (event.hero_small_image_url) {
        var imageTag = '<img data-src="'+event.hero_small_image_url+'" class="fetch-image card-img-top img-fluid" data-width="300" data-height="225" data-crop="fill" data-gravity="auto:faces">';
      } else if (event.thumb_image) {
        var imageTag = '<img src="'+event.thumb_image+'" class="img-fluid">';
      } else {
        var imageTag = '';
      }
      $(".upcoming-events").append(
        '<div class="card">'+
          '<a href="'+(event.url || event.ticket_url)+'" class="_no-underline col-sm-4">'+
            imageTag+
          '</a>'+
          '<div class="card-block col-sm-8">'+
            '<h3 class="card-title">'+
            (event.name || event.headline)+'</h3>'+
            '<p class="card-text"><strong>'+moment(event.earliest_start_local || event.start_date).format('MMM D, h:mma')+'&mdash;'+moment(event.earliest_end_local || event.end_date).format('h:mma')+'</strong></p>'+
            '<p class="card-text">'+event.description.substring(0, [200, 225, 250, 275, 300][Math.floor(Math.random() * 5)])+'...</p>'+
            '<p class="card-text"><a href="'+(event.url || event.ticket_url)+'" class="btn btn-sm btn-primary">Details &amp; Tickets</a></p>'+
          '</div>'+
        '</div>'
      );
    });
    $(".fetch-image").fetchify();
  });
</script>
